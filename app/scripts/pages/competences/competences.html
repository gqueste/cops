<h1>Compétences</h1>
<div class="text-center">
    Il reste {{service.getPointsDisponibles()}} points à repartir.
</div>
<div>
    Choisir une capacité de base :
    <select ng-model="baseComp" ng-change="changeChoixBase(baseComp)">
        <option ng-repeat="choice in service.getChoixBasePossibilites()" ng-value="choice">{{service.getCompetences()[choice].nom}}</option>
    </select>
</div>

<div class="panel panel-default">
    <div class="panel-heading">Compétences</div>
    <ul class="list-group">
        <li class="list-group-item" ng-repeat="comp in service.getCompetences()">
            <div class="row">
                <div class="col-xs-8">
                    <span popover="{{comp.description}}" popover-placement="right" popover-trigger="mouseenter" popover-append-to-body="true">{{comp.nom}}</span>
                </div>
                <div class="col-xs-4 text-center">
                    <div class="row" ng-if="comp.points > 0">
                        <div class="col-xs-6 text-right">
                            {{comp.points}} +
                        </div>
                        <div class="col-xs-6 input-group input-group-sm input-group-btn text-left">
                            <button class='btn btn-default' type='button' ng-click="compDown(comp)">
                                <span class='glyphicon glyphicon-chevron-down'></span>
                            </button>
                            <button class='btn btn-default' type='button' ng-disabled="!canCompUp(comp)" ng-click="compUp(comp)">
                                <span class='glyphicon glyphicon-chevron-up'></span>
                            </button>
                            <button ng-if="comp.niveau == 'option'" class="btn btn-danger" type="button" ng-click="retirerComp(comp)">Retirer</button>
                        </div>
                    </div>
                    <div ng-if="comp.points == 0">
                        <button class="btn btn-sm btn-block btn-primary" type="button" ng-click="acquerirComp(comp)">Acquérir la compétence</button>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</div>